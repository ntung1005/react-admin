{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport \"antd/lib/table/style/css\";\nimport _Table from \"antd/lib/table\";\nvar _jsxFileName = \"C:\\\\Users\\\\TungNguyen\\\\Desktop\\\\admin\\\\pages\\\\viewProducts.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport MyLayout from \"../components/MyLayout\";\nimport firebase_config from \"./../firebase_config\";\nimport { Link } from \"next/link\";\nvar db = firebase_config.firestore();\nvar Column = _Table.Column,\n    ColumnGroup = _Table.ColumnGroup; //\n\nvar ViewProducts =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ViewProducts, _React$Component);\n\n  function ViewProducts(props) {\n    var _this;\n\n    _classCallCheck(this, ViewProducts);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ViewProducts).call(this, props));\n    _this.state = {\n      dataProducts: []\n    };\n    return _this;\n  }\n\n  _createClass(ViewProducts, [{\n    key: \"deleteProduct\",\n    value: function deleteProduct(product) {\n      console.log(product.id);\n      db.collection(\"products\").doc(product.id)[\"delete\"]().then(function () {\n        console.log(\"Document successfully deleted!\");\n      })[\"catch\"](function (error) {\n        console.error(\"Error removing document: \", error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var columns = [{\n        title: \"Image\",\n        dataIndex: \"image\" // render: (text, record) => (\n        //   <Link href={'/admin/products/[id]'} as={'/admin/products/' + record.id}>\n        //     <a>\n        //       <img src={text} alt={text} style={{ maxWidth: 200 }} />\n        //     </a>\n        //   </Link>\n        // )\n\n      }, {\n        title: \"Name\",\n        dataIndex: \"name\",\n        key: \"name\" // render: (text, record) => (\n        //   <Link to=\"/product/[id]\" as={\"/product/\" + record.id}>\n        //     <a href=\"/product/[id]\" as={\"/product/\" + record.id}>\n        //       {record.name}\n        //     </a>\n        //   </Link>\n        // )\n\n      }, {\n        title: \"Status\",\n        dataIndex: \"status\",\n        key: \"status\"\n      }, {\n        title: \"Quantity\",\n        dataIndex: \"quantity\",\n        key: \"quantity\"\n      }, {\n        title: \"Price\",\n        dataIndex: \"price\",\n        key: \"price\"\n      }, {\n        title: \"Action\",\n        key: \"action\",\n        render: function render(text, record) {\n          return (// <a >Delete</a>\n            __jsx(\"a\", {\n              onClick: function onClick() {\n                return _this2.deleteProduct(record);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 80\n              },\n              __self: this\n            }, \"Delete\")\n          );\n        }\n      }];\n      db.collection(\"products\").get().then(function (querySnapshot) {\n        var data = querySnapshot.docs.map(function (doc) {\n          return doc.data();\n        });\n\n        _this2.setState({\n          dataProducts: data\n        });\n      });\n      return __jsx(MyLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, __jsx(_Table, {\n        columns: columns,\n        dataSource: this.state.dataProducts,\n        key: \"table_products\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return ViewProducts;\n}(React.Component);\n\nexport default ViewProducts;","map":{"version":3,"sources":["C:/Users/TungNguyen/Desktop/admin/pages/viewProducts.js"],"names":["MyLayout","firebase_config","Link","db","firestore","Column","ColumnGroup","ViewProducts","props","state","dataProducts","product","console","log","id","collection","doc","then","error","columns","title","dataIndex","key","render","text","record","deleteProduct","get","querySnapshot","data","docs","map","setState","React","Component"],"mappings":";;;;;;;;;;AACA,OAAOA,QAAP,MAAqB,wBAArB;AACA,OAAOC,eAAP,MAA4B,sBAA5B;AAEA,SAASC,IAAT,QAAqB,WAArB;AAEA,IAAMC,EAAE,GAAGF,eAAe,CAACG,SAAhB,EAAX;IACQC,M,UAAAA,M;IAAQC,W,UAAAA,W,EAEhB;;IACMC,Y;;;;;AACJ,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,sFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACXC,MAAAA,YAAY,EAAE;AADH,KAAb;AAHiB;AAMlB;;;;kCAEaC,O,EAAS;AACrBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,OAAO,CAACG,EAApB;AAEAX,MAAAA,EAAE,CAACY,UAAH,CAAc,UAAd,EACGC,GADH,CACOL,OAAO,CAACG,EADf,cAGGG,IAHH,CAGQ,YAAW;AACfL,QAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACD,OALH,WAMS,UAASK,KAAT,EAAgB;AACrBN,QAAAA,OAAO,CAACM,KAAR,CAAc,2BAAd,EAA2CA,KAA3C;AACD,OARH;AASD;;;6BAEQ;AAAA;;AACP,UAAMC,OAAO,GAAG,CACd;AACEC,QAAAA,KAAK,EAAE,OADT;AAEEC,QAAAA,SAAS,EAAE,OAFb,CAGE;AACA;AACA;AACA;AACA;AACA;AACA;;AATF,OADc,EAYd;AACED,QAAAA,KAAK,EAAE,MADT;AAEEC,QAAAA,SAAS,EAAE,MAFb;AAGEC,QAAAA,GAAG,EAAE,MAHP,CAIE;AACA;AACA;AACA;AACA;AACA;AACA;;AAVF,OAZc,EAwBd;AACEF,QAAAA,KAAK,EAAE,QADT;AAEEC,QAAAA,SAAS,EAAE,QAFb;AAGEC,QAAAA,GAAG,EAAE;AAHP,OAxBc,EA8Bd;AACEF,QAAAA,KAAK,EAAE,UADT;AAEEC,QAAAA,SAAS,EAAE,UAFb;AAGEC,QAAAA,GAAG,EAAE;AAHP,OA9Bc,EAmCd;AACEF,QAAAA,KAAK,EAAE,OADT;AAEEC,QAAAA,SAAS,EAAE,OAFb;AAGEC,QAAAA,GAAG,EAAE;AAHP,OAnCc,EAwCd;AACEF,QAAAA,KAAK,EAAE,QADT;AAEEE,QAAAA,GAAG,EAAE,QAFP;AAGEC,QAAAA,MAAM,EAAE,gBAACC,IAAD,EAAOC,MAAP;AAAA,iBACN;AACA;AAAG,cAAA,OAAO,EAAE;AAAA,uBAAM,MAAI,CAACC,aAAL,CAAmBD,MAAnB,CAAN;AAAA,eAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFM;AAAA;AAHV,OAxCc,CAAhB;AAkDAtB,MAAAA,EAAE,CAACY,UAAH,CAAc,UAAd,EACGY,GADH,GAEGV,IAFH,CAEQ,UAAAW,aAAa,EAAI;AACrB,YAAMC,IAAI,GAAGD,aAAa,CAACE,IAAd,CAAmBC,GAAnB,CAAuB,UAAAf,GAAG;AAAA,iBAAIA,GAAG,CAACa,IAAJ,EAAJ;AAAA,SAA1B,CAAb;;AAEA,QAAA,MAAI,CAACG,QAAL,CAAc;AACZtB,UAAAA,YAAY,EAAEmB;AADF,SAAd;AAGD,OARH;AAUA,aACE,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,OAAO,EAAEV,OADX;AAEE,QAAA,UAAU,EAAE,KAAKV,KAAL,CAAWC,YAFzB;AAGE,QAAA,GAAG,EAAC,gBAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AASD;;;;EA7FwBuB,KAAK,CAACC,S;;AAgGjC,eAAe3B,YAAf","sourcesContent":["import { Table, Divider, Tag } from \"antd\";\r\nimport MyLayout from \"../components/MyLayout\";\r\nimport firebase_config from \"./../firebase_config\";\r\n\r\nimport { Link } from \"next/link\";\r\n\r\nconst db = firebase_config.firestore();\r\nconst { Column, ColumnGroup } = Table;\r\n\r\n//\r\nclass ViewProducts extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      dataProducts: []\r\n    };\r\n  }\r\n\r\n  deleteProduct(product) {\r\n    console.log(product.id);\r\n\r\n    db.collection(\"products\")\r\n      .doc(product.id)\r\n      .delete()\r\n      .then(function() {\r\n        console.log(\"Document successfully deleted!\");\r\n      })\r\n      .catch(function(error) {\r\n        console.error(\"Error removing document: \", error);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const columns = [\r\n      {\r\n        title: \"Image\",\r\n        dataIndex: \"image\"\r\n        // render: (text, record) => (\r\n        //   <Link href={'/admin/products/[id]'} as={'/admin/products/' + record.id}>\r\n        //     <a>\r\n        //       <img src={text} alt={text} style={{ maxWidth: 200 }} />\r\n        //     </a>\r\n        //   </Link>\r\n        // )\r\n      },\r\n      {\r\n        title: \"Name\",\r\n        dataIndex: \"name\",\r\n        key: \"name\",\r\n        // render: (text, record) => (\r\n        //   <Link to=\"/product/[id]\" as={\"/product/\" + record.id}>\r\n        //     <a href=\"/product/[id]\" as={\"/product/\" + record.id}>\r\n        //       {record.name}\r\n        //     </a>\r\n        //   </Link>\r\n        // )\r\n      },\r\n      {\r\n        title: \"Status\",\r\n        dataIndex: \"status\",\r\n        key: \"status\"\r\n      },\r\n\r\n      {\r\n        title: \"Quantity\",\r\n        dataIndex: \"quantity\",\r\n        key: \"quantity\"\r\n      },\r\n      {\r\n        title: \"Price\",\r\n        dataIndex: \"price\",\r\n        key: \"price\"\r\n      },\r\n      {\r\n        title: \"Action\",\r\n        key: \"action\",\r\n        render: (text, record) => (\r\n          // <a >Delete</a>\r\n          <a onClick={() => this.deleteProduct(record)}>Delete</a>\r\n        )\r\n      }\r\n    ];\r\n\r\n    db.collection(\"products\")\r\n      .get()\r\n      .then(querySnapshot => {\r\n        const data = querySnapshot.docs.map(doc => doc.data());\r\n\r\n        this.setState({\r\n          dataProducts: data\r\n        });\r\n      });\r\n\r\n    return (\r\n      <MyLayout>\r\n        <Table\r\n          columns={columns}\r\n          dataSource={this.state.dataProducts}\r\n          key=\"table_products\"\r\n        />\r\n      </MyLayout>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ViewProducts;\r\n"]},"metadata":{},"sourceType":"module"}