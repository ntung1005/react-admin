{"ast":null,"code":"import \"antd/lib/table/style/css\";\nimport _Table from \"antd/lib/table\";\nvar _jsxFileName = \"C:\\\\Users\\\\TungNguyen\\\\Desktop\\\\admin\\\\pages\\\\viewProducts.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport MyLayout from \"../components/MyLayout\";\nimport firebase_config from \"./../firebase_config\";\nimport { Link } from \"next/link\";\nconst db = firebase_config.firestore();\nconst {\n  Column,\n  ColumnGroup\n} = _Table; //\n\nclass ViewProducts extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dataProducts: []\n    };\n  }\n\n  deleteProduct(product) {\n    console.log(product.id);\n    db.collection(\"products\").doc(product.id).delete().then(function () {\n      console.log(\"Document successfully deleted!\");\n    }).catch(function (error) {\n      console.error(\"Error removing document: \", error);\n    });\n  }\n\n  render() {\n    const columns = [{\n      title: \"Image\",\n      dataIndex: \"image\" // render: (text, record) => (\n      //   <Link href={'/admin/products/[id]'} as={'/admin/products/' + record.id}>\n      //     <a>\n      //       <img src={text} alt={text} style={{ maxWidth: 200 }} />\n      //     </a>\n      //   </Link>\n      // )\n\n    }, {\n      title: \"Name\",\n      dataIndex: \"name\",\n      key: \"name\",\n      render: (text, record) => __jsx(Link, {\n        to: \"/product/[id]\",\n        as: \"/product/\" + record.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        href: \"/product/[id]\",\n        as: \"/product/\" + record.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, record.name))\n    }, {\n      title: \"Status\",\n      dataIndex: \"status\",\n      key: \"status\"\n    }, {\n      title: \"Quantity\",\n      dataIndex: \"quantity\",\n      key: \"quantity\"\n    }, {\n      title: \"Price\",\n      dataIndex: \"price\",\n      key: \"price\"\n    }, {\n      title: \"Action\",\n      key: \"action\",\n      render: (text, record) => // <a >Delete</a>\n      __jsx(\"a\", {\n        onClick: () => this.deleteProduct(record),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Delete\")\n    }];\n    db.collection(\"products\").get().then(querySnapshot => {\n      const data = querySnapshot.docs.map(doc => doc.data());\n      this.setState({\n        dataProducts: data\n      });\n    });\n    return __jsx(MyLayout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, __jsx(_Table, {\n      columns: columns,\n      dataSource: this.state.dataProducts,\n      key: \"table_products\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default ViewProducts;","map":{"version":3,"sources":["C:/Users/TungNguyen/Desktop/admin/pages/viewProducts.js"],"names":["MyLayout","firebase_config","Link","db","firestore","Column","ColumnGroup","ViewProducts","React","Component","constructor","props","state","dataProducts","deleteProduct","product","console","log","id","collection","doc","delete","then","catch","error","render","columns","title","dataIndex","key","text","record","name","get","querySnapshot","data","docs","map","setState"],"mappings":"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","sourcesContent":["import { Table, Divider, Tag } from \"antd\";\r\nimport MyLayout from \"../components/MyLayout\";\r\nimport firebase_config from \"./../firebase_config\";\r\n\r\nimport { Link } from \"next/link\";\r\n\r\nconst db = firebase_config.firestore();\r\nconst { Column, ColumnGroup } = Table;\r\n\r\n//\r\nclass ViewProducts extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      dataProducts: []\r\n    };\r\n  }\r\n\r\n  deleteProduct(product) {\r\n    console.log(product.id);\r\n\r\n    db.collection(\"products\")\r\n      .doc(product.id)\r\n      .delete()\r\n      .then(function() {\r\n        console.log(\"Document successfully deleted!\");\r\n      })\r\n      .catch(function(error) {\r\n        console.error(\"Error removing document: \", error);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const columns = [\r\n      {\r\n        title: \"Image\",\r\n        dataIndex: \"image\"\r\n        // render: (text, record) => (\r\n        //   <Link href={'/admin/products/[id]'} as={'/admin/products/' + record.id}>\r\n        //     <a>\r\n        //       <img src={text} alt={text} style={{ maxWidth: 200 }} />\r\n        //     </a>\r\n        //   </Link>\r\n        // )\r\n      },\r\n      {\r\n        title: \"Name\",\r\n        dataIndex: \"name\",\r\n        key: \"name\",\r\n        render: (text, record) => (\r\n          <Link to=\"/product/[id]\" as={\"/product/\" + record.id}>\r\n            <a href=\"/product/[id]\" as={\"/product/\" + record.id}>\r\n              {record.name}\r\n            </a>\r\n          </Link>\r\n        )\r\n      },\r\n      {\r\n        title: \"Status\",\r\n        dataIndex: \"status\",\r\n        key: \"status\"\r\n      },\r\n\r\n      {\r\n        title: \"Quantity\",\r\n        dataIndex: \"quantity\",\r\n        key: \"quantity\"\r\n      },\r\n      {\r\n        title: \"Price\",\r\n        dataIndex: \"price\",\r\n        key: \"price\"\r\n      },\r\n      {\r\n        title: \"Action\",\r\n        key: \"action\",\r\n        render: (text, record) => (\r\n          // <a >Delete</a>\r\n          <a onClick={() => this.deleteProduct(record)}>Delete</a>\r\n        )\r\n      }\r\n    ];\r\n\r\n    db.collection(\"products\")\r\n      .get()\r\n      .then(querySnapshot => {\r\n        const data = querySnapshot.docs.map(doc => doc.data());\r\n\r\n        this.setState({\r\n          dataProducts: data\r\n        });\r\n      });\r\n\r\n    return (\r\n      <MyLayout>\r\n        <Table\r\n          columns={columns}\r\n          dataSource={this.state.dataProducts}\r\n          key=\"table_products\"\r\n        />\r\n      </MyLayout>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ViewProducts;\r\n"]},"metadata":{},"sourceType":"module"}